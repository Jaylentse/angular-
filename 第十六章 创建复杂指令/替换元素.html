<!DOCTYPE html>
<html lang="en" ng-app="exampleApp8">
<head>
  <meta charset="UTF-8">
  <script src="../bower_components/angular/angular.js"></script>
  <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
  <title>Directives</title>
  <script type="text/template" id="listTemplate">
    <ul>
      <li ng-repeat="item in data">{{item.price | currency}}</li>
    </ul>
  </script>
  <script>
    angular.module('exampleApp8',[])
        .directive('unorderedList',function(){
          return {
            link: function(scope, element, attrs){
              scope.data = scope[attrs['unorderedList']];
            },
            restrict: 'A',
            templateUrl: 'tableTemplate.html',
            replace: true
          }
        }).controller('defaultCtrl',function($scope){
      $scope.products = [
        {name:'Apples',category:"Fruit",price:1.20,expiry:10},
        {name:'Bananas',category:"Fruit",price:2.42,expiry:7},
        {name:'Pears',category:"Fruit",price:2.02,expiry:6}
      ];
    });
  </script>
</head>
<body ng-controller="defaultCtrl">
<div class="panel panel-default">
  <div class="panel-heading">
    <h3>Products</h3>
  </div>
  <div class="panel-body">
    <div unordered-list="products" class="table table-striped">This is where the list will go</div>
  </div>
</div>
</body>
</html>